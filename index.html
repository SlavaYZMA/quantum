<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Portrait</title>
    <link rel="icon" href="data:;base64,=">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
    <script src="./js/globals.js"></script>
    <script src="./js/particles.js"></script>
    <script src="./js/observer.js"></script>
    <script src="./js/audio.js"></script>
    <script src="./js/textSteps.js"></script>
    <script src="./js/utils.js"></script>
    <script src="./js/text-flicker.js"></script>
    <script src="./js/main.js"></script>
</head>
<body>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
    </div>
    <div id="language-switch">
        <button onclick="window.setLanguageAndStay('ru')">RU</button>
        <button onclick="window.setLanguageAndStay('en')">ENG</button>
    </div>
    <nav id="menu">
        <ul>
            <li><a href="#step-0" data-step="0">Language Selection</a></li>
            <li><a href="#step-1" data-step="1">Introduction</a></li>
            <li><a href="#step-2" data-step="2">Image Source</a></li>
            <li><a href="#step-2.1" data-step="2.1">Image Instructions</a></li>
            <li><a href="#step-3" data-step="3">Quantum Explanation</a></li>
            <li><a href="#step-4" data-step="4">Portrait Generation</a></li>
            <li><a href="#step-5" data-step="5">Observation Recording</a></li>
            <li><a href="#step-6" data-step="6">Sharing</a></li>
            <li><a href="#step-7" data-step="7">Conclusion</a></li>
        </ul>
    </nav>
    <button id="hamburger">&#9776;</button>
    <main id="content">
        <section id="step-0" class="step">
            <div class="text-block" data-i18n="step0_text">Please select language RU / ENG</div>
        </section>
        <section id="step-1" class="step" style="display: none;">
            <div class="text-block">
                <h2 data-i18n="step1_title"></h2>
                <p data-i18n="step1_text1"></p>
                <p data-i18n="step1_text2"></p>
                <p data-i18n="step1_text3"></p>
            </div>
            <div class="button-block">
                <button class="continue" data-i18n="continue">Continue</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
        <section id="step-2" class="step" style="display: none;">
            <div class="text-block">
                <h2 data-i18n="step2_title"></h2>
                <p data-i18n="step2_text1"></p>
            </div>
            <div class="button-block">
                <button id="uploadImage" data-i18n="upload_image">Upload Image</button>
                <button id="useCamera" data-i18n="use_camera">Use Camera</button>
                <button id="useArchive" data-i18n="use_archive">Use Archive</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
        <section id="image-archive-section" class="step step-subsection" style="display: none;">
            <div class="section-content">
                <span id="close-archive-section" class="close" aria-label="Close archive">×</span>
                <div class="image-grid" id="image-grid"></div>
            </div>
        </section>
        <section id="camera-section" class="step step-subsection" style="display: none;">
            <div class="section-content">
                <span id="close-camera-section" class="close" aria-label="Close camera">×</span>
                <video id="camera-video" autoplay style="width: 100%; max-width: 640px; height: auto;"></video>
                <canvas id="camera-canvas" style="display: none;"></canvas>
                <div class="button-block">
                    <button id="capture-photo" data-i18n="capture_photo">Capture Photo</button>
                </div>
            </div>
        </section>
        <section id="step-2.1" class="step" style="display: none;">
            <div id="canvas-container" style="display: none;"></div> <!-- Container for particles.js canvas -->
            <div class="text-block">
                <p data-i18n="step2_text2"></p>
                <p data-i18n="step2_text3"></p>
                <p data-i18n="step2_text4"></p>
            </div>
            <div class="button-block">
                <button class="continue" data-i18n="continue">Continue</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
        <section id="step-3" class="step" style="display: none;">
            <div class="text-block">
                <h2 data-i18n="step3_title"></h2>
                <p data-i18n="step3_text1"></p>
                <p data-i18n="step3_text2"></p>
                <p data-i18n="step3_text3"></p>
                <p data-i18n="step3_text4"></p>
                <p data-i18n="step3_text5"></p>
                <p data-i18n="step3_text6"></p>
                <p data-i18n="step3_text7"></p>
                <p data-i18n="step3_text8"></p>
            </div>
            <div class="button-block">
                <button class="continue" data-i18n="continue">Continue</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
        <section id="step-4" class="step" style="display: none;">
            <div class="text-block">
                <h2 data-i18n="step4_title"></h2>
                <p data-i18n="step4_text1"></p>
                <p data-i18n="step4_text2"></p>
                <p data-i18n="step4_text3"></p>
            </div>
            <div class="portrait-wrapper">
                <img class="thumbnail-portrait" alt="Thumbnail of quantum portrait" />
                <div class="portrait-terminal-wrapper">
                    <div id="portrait-animation-container-step-4"></div>
                    <div class="terminal-log" id="terminal-log-step-4"></div>
                </div>
            </div>
            <div class="button-block">
                <button class="continue" data-i18n="continue">Continue</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
        <section id="step-5" class="step" style="display: none;">
            <div class="text-block">
                <h2 data-i18n="step5_title"></h2>
                <p data-i18n="step5_text1"></p>
                <p data-i18n="step5_text2"></p>
                <p data-i18n="step5_text3"></p>
            </div>
            <div class="portrait-wrapper">
                <img class="thumbnail-portrait" alt="Thumbnail of quantum portrait" />
                <div class="portrait-terminal-wrapper">
                    <div id="portrait-animation-container-step-5"></div>
                    <div class="terminal-log" id="terminal-log-step-5"></div>
                </div>
            </div>
            <div class="button-block">
                <input id="portraitName" type="text" data-i18n-placeholder="portrait_name_placeholder">
                <button id="saveImage" data-i18n="save_observation">[RECORD OBSERVATION]</button>
                <button class="continue" data-i18n="continue">Continue</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
        <section id="step-6" class="step" style="display: none;">
            <div class="text-block">
                <h2 data-i18n="step6_title"></h2>
                <p data-i18n="step6_text1"></p>
                <p data-i18n="step6_text2"></p>
                <p data-i18n="step6_text3"></p>
            </div>
            <div class="button-block">
                <button id="shareObservation" data-i18n="share_observation">[SHARE OBSERVATION]</button>
                <button class="continue" data-i18n="continue">Continue</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
        <section id="step-7" class="step" style="display: none;">
            <div class="text-block">
                <p data-i18n="step7_text1"></p>
                <p data-i18n="step7_text2"></p>
                <p data-i18n="step7_text3"></p>
            </div>
            <div class="button-block">
                <button id="restart" data-i18n="restart">[↻ RESTART]</button>
                <button id="archive" data-i18n="archive">[⧉ GO TO ARCHIVE]</button>
                <button id="aboutAuthors" data-i18n="about_authors">[ABOUT AUTHORS]</button>
                <button class="back" data-i18n="back">Back</button>
            </div>
        </section>
    </main>
</body>
</html>

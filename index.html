<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Portrait</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
    <script src="particles.js"></script>
    <script src="audio.js"></script>
    <script src="globals.js"></script>
    <script src="utils.js"></script>
    <script src="main.js"></script>
</head>
<body>
    <div id="hamburger">☰</div>
    <nav id="menu">
        <a href="#step-0">Язык</a>
        <a href="#step-1">Шаг 1</a>
        <a href="#step-2">Шаг 2</a>
        <a href="#step-2.1">Шаг 2.1</a>
        <a href="#step-3">Шаг 3</a>
        <a href="#step-4">Шаг 4</a>
        <a href="#step-5">Шаг 5</a>
        <a href="#step-6">Шаг 6</a>
        <a href="#step-7">Шаг 7</a>
    </nav>
    <div id="progress-bar"><div id="progress-fill"></div></div>

    <section id="step-0" class="step">
        <div class="text-block">
            <p id="step0_text">Пожалуйста, выберите язык RU / ENG</p>
            <button onclick="setLanguageAndStay('ru')">RU</button>
            <button onclick="setLanguageAndStay('en')">ENG</button>
        </div>
    </section>

    <section id="step-1" class="step">
        <div class="text-block">
            <h2 id="step1_title">СТАТУС: НАБЛЮДАТЕЛЬ ПОДКЛЮЧЁН</h2>
            <p id="step1_text1">> Чему Шредингер может научить нас в области цифровой идентификации?</p>
            <p id="step1_text2">> Добро пожаловать в экспериментальную зону.</p>
            <p id="step1_text3">> Здесь наблюдение = вмешательство</p>
            <button class="continue" id="continue">Продолжить</button>
        </div>
    </section>

    <section id="step-2" class="step">
        <div class="text-block">
            <h2 id="step2_title">Шаг 1: Сканируйте лицо суперпозиции.</h2>
            <p id="step2_text1">Вы можете загрузить изображение или выбрать вариант из архива.</p>
            <button id="uploadImage">Загрузить изображение</button>
            <button id="useCamera">Включить камеру</button>
            <button id="useArchive">Выбрать из архива</button>
            <button class="back" id="back">Назад</button>
        </div>
    </section>

    <section id="image-archive-section">
        <button id="close-archive-section">Закрыть</button>
        <div id="image-grid"></div>
    </section>

    <section id="camera-section">
        <button id="close-camera-section">Закрыть</button>
        <video id="camera-video" autoplay></video>
        <button id="capture-photo">Сделать фото</button>
        <canvas id="camera-canvas" style="display:none;"></canvas>
    </section>

    <section id="step-2.1" class="step">
        <div class="text-block">
            <p id="step2_text2">> Изображение принято.</p>
            <p id="step2_text3">> Запускается волновая функция.</p>
            <p id="step2_text4">> Система готова к инициализации.</p>
            <button class="continue" id="continue">Продолжить</button>
            <button class="back" id="back">Назад</button>
        </div>
    </section>

    <section id="step-3" class="step">
        <div class="text-block">
            <h2 id="step3_title">Шаг 2: Инициализация</h2>
            <p id="step3_text1">> Изображение преобразовано в пиксельную сетку.</p>
            <p id="step3_text2">> Каждому пикселю назначены параметры (x, y, brightness, color)</p>
            <p id="step3_text3">> На их основе построена волновая функция: ψ(x, y, t)</p>
            <p id="step3_text4">Уравнение эволюции:</p>
            <p id="step3_text5">iℏ ∂ψ/∂t = Ĥψ, где Ĥ = -½∇² + V(x, y)</p>
            <p id="step3_text6">> Потенциал V(x, y) формируется из визуальных характеристик изображения.</p>
            <p id="step3_text7">> Система переходит в режим временной симуляции.</p>
            <p id="step3_text8">> Портрет существует как совокупность возможных состояний.</p>
            <button class="continue" id="continue">Продолжить</button>
            <button class="back" id="back">Назад</button>
        </div>
    </section>

    <section id="step-4" class="step">
        <div class="text-block">
            <h2 id="step4_title">Шаг 3: НАЧНИТЕ НАБЛЮДЕНИЕ</h2>
            <p id="step4_text1">> Двигайте курсором по изображению.</p>
            <p id="step4_text2">> Каждый ваш жест запускает коллапс.</p>
            <p id="step4_text3">> Система реагирует. Наблюдаемый образ формируется здесь и сейчас.</p>
            <button class="continue" id="continue">Продолжить</button>
            <button class="back" id="back">Назад</button>
        </div>
    </section>

    <section id="step-5" class="step">
        <div class="text-block">
            <h2 id="step5_title">Шаг 4: ФИКСАЦИЯ</h2>
            <p id="step5_text1">> Портрет — это процесс.</p>
            <p id="step5_text2">> Но ты можешь зафиксировать один миг.</p>
            <p id="step5_text3">> Это будет один из возможных тебя.</p>
            <input id="portraitName" type="text" placeholder="Имя портрета">
            <button id="saveImage">[ЗАПИСАТЬ НАБЛЮДЕНИЕ]</button>
            <button class="continue" id="continue">Продолжить</button>
            <button class="back" id="back">Назад</button>
        </div>
    </section>

    <section id="step-6" class="step">
        <div class="text-block">
            <h2 id="step6_title">Шаг 5: РЕАКЦИЯ СИСТЕМЫ</h2>
            <p id="step6_text1">> Это не портрет.</p>
            <p id="step6_text2">> Это — реакция системы на тебя.</p>
            <p id="step6_text3">> Ты повлиял на исход.</p>
            <button id="shareObservation">[ПОДЕЛИТЬСЯ НАБЛЮДЕНИЕМ]</button>
            <button class="continue" id="continue">Продолжить</button>
            <button class="back" id="back">Назад</button>
        </div>
    </section>

    <section id="step-7" class="step">
        <div class="text-block">
            <p id="step7_text1">Ты — не единственный наблюдатель.</p>
            <p id="step7_text2">Каждое наблюдение — это акт, формирующий образ.</p>
            <p id="step7_text3">Здесь ты — одновременно субъект и объект.</p>
            <button id="restart">[↻ НАЧАТЬ СНАЧАЛА]</button>
            <button id="archive">[⧉ ПЕРЕЙТИ В АРХИВ НАБЛЮДЕНИЙ]</button>
            <button id="aboutAuthors">[ОБ АВТОРАХ]</button>
            <button class="back" id="back">Назад</button>
        </div>
    </section>

    <div class="terminal-log"></div>
</body>
</html>
